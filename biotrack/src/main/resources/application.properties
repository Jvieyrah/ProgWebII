spring.application.name=biotrack

spring.datasource.driver-class-name=org.h2.Driver

# URL de conexão do H2 em modo arquivo:
# - 'file:' indica que o banco de dados será persistido em disco.
# - './data/biotrackdb' é o caminho e o nome do arquivo (relativo ao diretório de execução).
# - O arquivo criado será: /data/biotrackdb.mv.db
# - 'DB_CLOSE_DELAY=-1' é importante para manter o banco aberto mesmo após o último
#   fechamento de conexão. Isso é crucial para persistência em ambientes embutidos.
spring.datasource.url=jdbc:h2:file:./data/biotrackdb;DB_CLOSE_DELAY=-1

spring.datasource.username=sa
spring.datasource.password=password

# ----------------------------------------
# 2. JPA/Hibernate Configuration
# ----------------------------------------

# Define o dialeto do Hibernate para o H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# 'update' é mais seguro para bancos de dados persistentes do que 'create-drop'.
# Ele tenta atualizar o schema existente sem apagar os dados.
spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ----------------------------------------
# 3. H2 Console Configuration (Interface Web)
# ----------------------------------------

spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true